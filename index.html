<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa de Cobertura - E-M√çDIAS</title>


    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <!-- Google Fonts - E-M√çDIAS Typography -->
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Seu CSS separado -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <body>
    <!-- CABE√áALHO SUPERIOR E-M√çDIAS -->
    <div class="top-header">
        <img src="https://raw.githubusercontent.com/kaike74/distribuicaoemidias/main/logo%20E-MIDIAS%20png%20fundo%20escuro%20HORIZONTAL%20(1).png"
             alt="E-M√çDIAS" 
             class="top-logo"
             onerror="this.src='./assets/logo E-MIDIAS png fundo branco HORIZONTAL.png'; this.onerror=function(){this.style.display='none'};">
    </div>

        <!-- HEADER E-M√çDIAS COM LOGO INTEGRADA -->
        <div class="header">
            <div class="header-content">
                <div class="header-main">
                    <h1 class="header-title" id="radio-name">
                        Carregando...
                        <img class="header-logo" id="header-logo" src="" alt="Logo" style="display: none;">
                    </h1>
                    <div class="header-subtitle">
                        <span id="radio-info"></span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- LOADING -->
        <div id="loading" class="loading">
            <div class="loading-spinner"></div>
            <p>Carregando dados...</p>
        </div>
        
        <!-- ERROR -->
        <div id="error" class="error" style="display: none;">
            <div id="error-message"></div>
            <div id="error-details" class="error-details" style="display: none;"></div>
        </div>
        
        <!-- INFORMA√á√ïES (MODO INDIVIDUAL - REMOVIDO OS CARDS) -->
        <div id="info-section" class="info-grid" style="display: none;">
            <!-- Cards removidos para o modo individual -->
        </div>
        
        <!-- LAYOUT PROPOSTA (MAPA + LISTA DE R√ÅDIOS) -->
        <div id="proposta-section" class="proposta-layout" style="display: none;">
            <!-- MAPA -->
            <div id="map-section-proposta" class="map-container">
                <div id="map"></div>
            </div>
            
            <!-- LISTA DE R√ÅDIOS COM BOT√ÉO EXPANDIR -->
            <div class="proposta-radios-section">
                <!-- üîß NOVO: Bot√£o para expandir/ocultar mapa -->
                <button class="map-expand-btn" id="map-expand-btn" onclick="toggleMapExpansion()">
                    <span id="expand-icon">üîº</span>
                    <span id="expand-text">Expandir Mapa</span>
                </button>
                
                <h3 class="card-title">
                    üìª R√°dios do Plano 
                    <span class="radio-count-badge" id="radio-count-badge">0</span>
                </h3>
                <div class="radios-list" id="radios-list">
                    <!-- Lista ser√° gerada dinamicamente -->
                </div>
            </div>
        </div>
        
        <!-- MAPA (MODO INDIVIDUAL) -->
        <div id="map-section" class="map-container individual-layout" style="display: none;">
            <div id="map"></div>
        </div>
        
        <!-- CIDADES -->
        <div id="cidades-section" class="cidades-container" style="display: none;">
            <div class="cidades-header">
                <h2 class="cidades-title">
                    üåç Cidades de Cobertura
                    <span class="cidade-count" id="cidade-count">0</span>
                </h2>
                <div class="cidades-actions">
                    <button 
                        class="excel-export-btn" 
                        onclick="exportToExcel()" 
                        title="Exportar cidades para Excel">
                        üìä Exportar Excel (.xlsx)
                    </button>
                </div>
            </div>
            
            <div class="search-box">
                <input 
                    type="text" 
                    class="search-input" 
                    id="city-search" 
                    placeholder="üîç Buscar cidade ou regi√£o..."
                >
            </div>
            
            <div class="cidades-list" id="cidades-list">
                <!-- Lista ser√° gerada dinamicamente -->
            </div>
        </div>
        
        <!-- RODAP√â E-M√çDIAS -->
        <div class="footer">
            <p class="footer-text">Plataforma de Mapeamento de Cobertura de R√°dios ‚Ä¢ E-M√çDIAS</p>
        </div>
    </div>
    
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <!-- SheetJS para exporta√ß√£o Excel -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

    <!-- Seu JS separado -->
    <script src="script.js"></script>
</body>
</html>
